{"version":3,"file":"bn-ng-idle.umd.js","sources":["ng:/bn-ng-idle/lib/bn-ng-idle.service.ts","ng:/bn-ng-idle/lib/bn-ng-idle.module.ts"],"names":["Subject","merge","fromEvent","timer","Injectable","NgModule"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Observable, fromEvent, merge, Subject, timer } from 'rxjs';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BnNgIdleService {\r\n\r\n  private idle$: Observable<any>;\r\n  private timer$;\r\n  private timeOutMilliSeconds: number;\r\n  private idleSubscription;\r\n\r\n  public expired$: Subject<boolean> = new Subject<boolean>();\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public startWatching(timeOutSeconds): Observable<any> {\r\n    this.idle$ = merge(\r\n      fromEvent(document, 'mousemove'),\r\n      fromEvent(document, 'click'),\r\n      fromEvent(document, 'mousedown'),\r\n      fromEvent(document, 'keypress'),\r\n      fromEvent(document, 'DOMMouseScroll'),\r\n      fromEvent(document, 'mousewheel'),\r\n      fromEvent(document, 'touchmove'),\r\n      fromEvent(document, 'MSPointerMove'),\r\n      fromEvent(window, 'mousemove'),\r\n      fromEvent(window, 'resize'),\r\n    );\r\n\r\n    this.timeOutMilliSeconds = timeOutSeconds * 1000;\r\n\r\n    this.idleSubscription = this.idle$.subscribe((res) => {\r\n      this.resetTimer();\r\n    });\r\n\r\n    this.startTimer();\r\n\r\n    return this.expired$;\r\n  }\r\n\r\n  private startTimer() {\r\n   this.timer$ = timer(this.timeOutMilliSeconds, this.timeOutMilliSeconds).subscribe((res) => {\r\n      this.expired$.next(true);\r\n    });\r\n  }\r\n\r\n  public resetTimer() {\r\n    this.timer$.unsubscribe();\r\n    this.startTimer();\r\n  }\r\n\r\n  public stopTimer() {\r\n    this.timer$.unsubscribe();\r\n    this.idleSubscription.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BnNgIdleService } from './bn-ng-idle.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n  ],\r\n  declarations: [],\r\n  providers: [BnNgIdleService],\r\n  exports: []\r\n})\r\nexport class BnNgIdleModule { }\r\n"]}